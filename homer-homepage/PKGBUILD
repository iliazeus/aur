# Maintainer: Ilia Pozdnyakov <ilia.pozdnyakov@ya.ru>
pkgname="homer-homepage"
pkgver="23.05.1"
pkgrel="1"
pkgdesc="A very simple static homepage for your server"
arch=("any")
url="https://github.com/bastienwirtz/homer"
license=("MIT")
depends=("darkhttpd" "fuse-overlayfs")
makedepends=("unzip")
conflicts=()
source=(
  "$pkgname-$pkgver.zip"::"https://github.com/bastienwirtz/homer/releases/download/v$pkgver/homer.zip"
  "homer-homepage.sh"
  "homer-homepage.service"
)
md5sums=(
  "a1876c6bf444967d6524c7d8ca702080"
  "SKIP"
  "SKIP"
)
noextract=("$pkgname-$pkgver.zip")

package() {
  mkdir -p "$pkgdir/opt/homer-homepage"
  pushd "$pkgdir/opt/homer-homepage"
  unzip "$srcdir/$pkgname-$pkgver.zip"
  popd

  install -Dm0755 "homer-homepage.sh" "$pkgdir/usr/bin/homer-homepage"
  install -Dm0555 "homer-homepage.service" "$pkgdir/usr/lib/systemd/user/homer-homepage.service"
}
