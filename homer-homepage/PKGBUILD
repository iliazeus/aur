# Maintainer: Ilia Pozdnyakov <ilia.pozdnyakov@ya.ru>
pkgname="homer-homepage"
pkgver="23.02.2"
pkgrel="2"
pkgdesc="A very simple static homepage for your server"
arch=("any")
url="https://github.com/bastienwirtz/homer"
license=("MIT")
depends=("darkhttpd" "fuse-overlayfs")
makedepends=("unzip")
conflicts=()
source=(
  "$pkgname-$pkgver.zip"::"https://github.com/bastienwirtz/homer/releases/download/v$pkgver/homer.zip"
  "homer-homepage.sh"
  "homer-homepage@.service"
)
md5sums=(
  "1639a36755fc5962406a2999b59ff9b3"
  "SKIP"
  "SKIP"
)
noextract=("$pkgname-$pkgver.zip")

package() {
  mkdir -p "$pkgdir/opt/homer-homepage"
  pushd "$pkgdir/opt/homer-homepage"
  unzip "$srcdir/$pkgname-$pkgver.zip"
  popd

  install -Dm0755 "homer-homepage.sh" "$pkgdir/usr/bin/homer-homepage"
  install -Dm0555 "homer-homepage@.service" "$pkgdir/usr/lib/systemd/system/homer-homepage@.service"
}
